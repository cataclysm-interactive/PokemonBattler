name: Java Build

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

permissions:
  contents: read

jobs:
  build:
  
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v2.4.2
      with: 
        repository: "cataclysm-interactive/PokemonBattler"
    - name: Setup Java JDK
      uses: actions/setup-java@v3.3.0
      with: 
        java-version: 17
        distribution: temurin
    - name: List Files
      run: ls
    - name: Compile Code
      run: |
        cd PokemonBattler
        jar cf pkmn.jar mainGame.java
        ls

    - name: Release
      uses: fnkr/github-action-ghr@v1
      env:
        GHR_PATH: pkmn.jar
        GITHUB_TOKEN: ${{ secrets.TOKEN }}
      
      

